<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Receitas ‚Äî 10.000+</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #fffaf3;
      --card: #ffffff;
      --text: #2f2a26;
      --accent: #c85a2e;
      --accent-dark: #8b3f20;
      --muted: #6b5f57;
      --border: #e7d9c9;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg); color: var(--text);
    }
    header {
      background: linear-gradient(135deg, var(--accent), var(--accent-dark));
      color: #fff; padding: 28px 16px;
    }
    header h1 { margin: 0 0 8px; font-size: 28px; }
    header p { margin: 0; opacity: 0.9; }
    .bar {
      display: grid; gap: 10px; grid-template-columns: 1fr 1fr 1fr auto;
      padding: 12px 16px; background: #fff; border-bottom: 1px solid var(--border);
      position: sticky; top: 0; z-index: 10;
    }
    .bar input, .bar select, .bar button {
      padding: 10px; border: 1px solid var(--border); border-radius: 8px; font-size: 14px;
      background: var(--card); color: var(--text);
    }
    .bar button {
      background: var(--accent); color: #fff; border: none; cursor: pointer;
    }
    .bar button:hover { background: var(--accent-dark); }
    main { padding: 16px; }
    .stats { font-size: 14px; color: var(--muted); margin-bottom: 12px; }
    .grid {
      display: grid; gap: 12px;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    }
    article {
      background: var(--card); border: 1px solid var(--border); border-radius: 12px;
      padding: 14px; box-shadow: 0 2px 6px rgba(0,0,0,0.04);
    }
    article h3 { margin: 0 0 8px; font-size: 18px; }
    .meta { font-size: 12px; color: var(--muted); margin-bottom: 8px; }
    h4 { margin: 10px 0 6px; font-size: 14px; color: var(--accent-dark); }
    ul { margin: 0 0 8px 18px; }
    .pagination {
      display: flex; gap: 8px; justify-content: center; align-items: center; margin: 18px 0;
    }
    .pagination button {
      padding: 8px 12px; border: 1px solid var(--border); background: #fff; border-radius: 8px; cursor: pointer;
    }
    .pagination button.active { background: var(--accent); color: #fff; border-color: var(--accent); }
    footer {
      text-align: center; padding: 18px; color: var(--muted);
    }
    .badge {
      display: inline-block; padding: 2px 8px; border-radius: 999px; font-size: 12px;
      background: #ffe9df; color: var(--accent-dark); border: 1px solid #ffd2c0;
    }
    .empty { text-align: center; color: var(--muted); padding: 24px; }
  </style>
</head>
<body>
  <header>
    <h1>üçΩÔ∏è Mega Cat√°logo de Receitas</h1>
    <p>10.000+ receitas geradas automaticamente‚Äîalmo√ßo, lanche, jantar, sobremesa e extras.</p>
  </header>

  <div class="bar">
    <input id="q" type="search" placeholder="Buscar por t√≠tulo ou ingrediente..." />
    <select id="cat">
      <option value="todas">Todas as categorias</option>
      <option value="Almo√ßo">Almo√ßo</option>
      <option value="Lanche">Lanche</option>
      <option value="Jantar">Jantar</option>
      <option value="Sobremesa">Sobremesa</option>
      <option value="Extras">Extras</option>
    </select>
    <select id="pageSize">
      <option value="24">24 por p√°gina</option>
      <option value="48">48 por p√°gina</option>
      <option value="96">96 por p√°gina</option>
      <option value="192">192 por p√°gina</option>
    </select>
    <button id="favToggle">‚≠ê Favoritos</button>
  </div>

  <main>
    <div class="stats" id="stats">Carregando receitas‚Ä¶</div>
    <div class="grid" id="grid"></div>
    <div class="empty" id="empty" style="display:none;">Nenhuma receita encontrada.</div>

    <div class="pagination" id="pager"></div>
  </main>

  <footer>
    <p>&copy; 2026 ‚Äî Cat√°logo gerado no navegador. Dica: use a busca para filtrar r√°pido.</p>
  </footer>

  <script>
    // ---------- Configura√ß√£o de gera√ß√£o ----------
    const TOTAL = 10000;
    const CATEGORIES = ["Almo√ßo", "Lanche", "Jantar", "Sobremesa", "Extras"];
    const BASE_ING = [
      "arroz", "feij√£o", "frango", "carne", "peixe", "ovo", "batata", "cenoura", "tomate", "cebola",
      "alho", "piment√£o", "queijo", "leite", "farinha", "a√ß√∫car", "manteiga", "√≥leo", "sal", "pimenta",
      "or√©gano", "salsa", "coentro", "creme de leite", "chocolate", "cacau", "banana", "ma√ß√£", "coco",
      "milho", "ervilha", "br√≥colis", "espinafre", "macarr√£o", "polpa de tomate", "molho shoyu", "lim√£o"
    ];
    const METHODS = [
      "Refogue os ingredientes principais com temperos.",
      "Misture tudo e leve ao forno pr√©-aquecido a 180¬∞C por 35‚Äì45 minutos.",
      "Cozinhe em fogo m√©dio at√© reduzir e apurar o sabor.",
      "Grelhe em frigideira quente por 3‚Äì5 minutos de cada lado.",
      "Bata no liquidificador at√© ficar homog√™neo e leve √† geladeira por 2 horas.",
      "Asse em assadeira untada at√© dourar levemente.",
      "Prepare em banho-maria por 40 minutos para textura cremosa.",
      "Finalize com ervas frescas e ajuste o sal antes de servir."
    ];
    const ADJECTIVES = ["caseiro", "r√°pido", "cremoso", "saboroso", "leve", "r√∫stico", "especial", "do dia"];
    const STYLES = ["com ervas", "ao molho", "na manteiga", "com legumes", "gratinado", "assado", "na panela", "no forno"];

    // ---------- Estado ----------
    let recipes = [];
    let filtered = [];
    let page = 1;
    let pageSize = parseInt(localStorage.getItem("pageSize") || "24", 10);
    let showFavs = false;

    // ---------- Utilidades ----------
    const rand = (n) => Math.floor(Math.random() * n);
    const pick = (arr) => arr[rand(arr.length)];
    const sample = (arr, k) => {
      const a = [...arr], out = [];
      for (let i = 0; i < k && a.length; i++) {
        out.push(a.splice(rand(a.length), 1)[0]);
      }
      return out;
    };
    const slug = (s) => s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[^a-z0-9]+/g, "-");

    // ---------- Gera√ß√£o de receitas ----------
    function generateRecipes(total) {
      const out = [];
      for (let i = 1; i <= total; i++) {
        const cat = CATEGORIES[i % CATEGORIES.length];
        const base = pick(BASE_ING);
        const adj = pick(ADJECTIVES);
        const style = pick(STYLES);
        const title = `${cat} ${adj}: ${base} ${style} #${i}`;
        const ings = sample(BASE_ING, 6 + rand(3)); // 6‚Äì8 ingredientes
        const method = `${pick(METHODS)} ${pick(METHODS)}`;
        out.push({
          id: i,
          title,
          category: cat,
          ingredients: ings,
          method,
          slug: slug(title)
        });
      }
      return out;
    }

    // ---------- Renderiza√ß√£o ----------
    const grid = document.getElementById("grid");
    const stats = document.getElementById("stats");
    const pager = document.getElementById("pager");
    const empty = document.getElementById("empty");

    function renderStats() {
      const total = showFavs ? favorites().length : recipes.length;
      const vis = filtered.length;
      stats.textContent = `Total: ${total} ‚Ä¢ Filtradas: ${vis} ‚Ä¢ P√°gina ${page} ‚Ä¢ Exibindo ${pageSize}/p√°gina`;
    }

    function favorites() {
      const raw = JSON.parse(localStorage.getItem("favs") || "[]");
      return raw;
    }

    function isFav(id) {
      return favorites().includes(id);
    }

    function toggleFav(id) {
      const favs = new Set(favorites());
      if (favs.has(id)) favs.delete(id); else favs.add(id);
      localStorage.setItem("favs", JSON.stringify([...favs]));
      renderPage(); // atualiza estrela
    }

    function applyFilters() {
      const q = document.getElementById("q").value.trim().toLowerCase();
      const cat = document.getElementById("cat").value;
      const baseList = showFavs ? recipes.filter(r => isFav(r.id)) : recipes;

      filtered = baseList.filter(r => {
        const catOk = (cat === "todas") || (r.category === cat);
        if (!q) return catOk;
        const text = `${r.title} ${r.ingredients.join(" ")}`.toLowerCase();
        return catOk && text.includes(q);
      });

      page = 1; // reset ao filtrar
      renderPage();
    }

    function renderPage() {
      renderStats();
      const totalPages = Math.max(1, Math.ceil(filtered.length / pageSize));
      page = Math.min(page, totalPages);

      const start = (page - 1) * pageSize;
      const slice = filtered.slice(start, start + pageSize);

      grid.innerHTML = "";
      if (slice.length === 0) {
        empty.style.display = "block";
      } else {
        empty.style.display = "none";
        const frag = document.createDocumentFragment();
        slice.forEach(r => {
          const el = document.createElement("article");
          el.innerHTML = `
            <h3>${r.title}</h3>
            <div class="meta">
              <span class="badge">${r.category}</span>
              &nbsp;‚Ä¢&nbsp; ID: ${r.id}
              &nbsp;‚Ä¢&nbsp; <button data-fav="${r.id}" style="border:none;background:none;cursor:pointer;">${isFav(r.id) ? "‚≠ê" : "‚òÜ"} Favoritar</button>
            </div>
            <h4>Ingredientes:</h4>
            <ul>${r.ingredients.map(i => `<li>${i}</li>`).join("")}</ul>
            <h4>Modo de preparo:</h4>
            <p>${r.method}</p>
          `;
          frag.appendChild(el);
        });
        grid.appendChild(frag);
      }

      // Pagina√ß√£o
      pager.innerHTML = "";
      const pfrag = document.createDocumentFragment();
      const mkBtn = (label, p, active=false, disabled=false) => {
        const b = document.createElement("button");
        b.textContent = label;
        if (active) b.classList.add("active");
        if (disabled) b.disabled = true;
        b.addEventListener("click", () => { page = p; renderPage(); });
        return b;
      };
      pfrag.appendChild(mkBtn("¬´", 1, false, page === 1));
      pfrag.appendChild(mkBtn("‚Äπ", Math.max(1, page - 1), false, page === 1));

      // p√°ginas compactas
      const windowSize = 5;
      const startP = Math.max(1, page - Math.floor(windowSize/2));
      const endP = Math.min(totalPages, startP + windowSize - 1);
      for (let p = startP; p <= endP; p++) {
        pfrag.appendChild(mkBtn(String(p), p, p === page));
      }

      pfrag.appendChild(mkBtn("‚Ä∫", Math.min(totalPages, page + 1), false, page === totalPages));
      pfrag.appendChild(mkBtn("¬ª", totalPages, false, page === totalPages));
      pager.appendChild(pfrag);

      // Favoritar (delega√ß√£o)
      grid.querySelectorAll("button[data-fav]").forEach(btn => {
        btn.addEventListener("click", (e) => {
          const id = parseInt(e.currentTarget.getAttribute("data-fav"), 10);
          toggleFav(id);
        });
      });
    }

    // ---------- Eventos ----------
    document.getElementById("q").addEventListener("input", () => {
      // debounce simples
      clearTimeout(window.__qTimer);
      window.__qTimer = setTimeout(applyFilters, 200);
    });
    document.getElementById("cat").addEventListener("change", applyFilters);
    document.getElementById("pageSize").addEventListener("change", (e) => {
      pageSize = parseInt(e.target.value, 10);
      localStorage.setItem("pageSize", String(pageSize));
      renderPage();
    });
    document.getElementById("favToggle").addEventListener("click", () => {
      showFavs = !showFavs;
      document.getElementById("favToggle").textContent = showFavs ? "‚≠ê Mostrando favoritos" : "‚≠ê Favoritos";
      applyFilters();
    });

    // ---------- Inicializa√ß√£o ----------
    (function init() {
      recipes = generateRecipes(TOTAL);
      filtered = recipes.slice();
      renderPage();
    })();
  </script>
</body>
</html>
